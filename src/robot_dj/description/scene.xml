<!-- UR5e inspired from https://github.com/google-deepmind/mujoco_menagerie/tree/main/universal_robots_ur5e -->
<mujoco model="ur5e scene">
  <include file="ur5e.xml" />

  <asset>
    <!-- Define textures and materials -->
    <texture name="wood" type="cube" file="assets/wood.png" />
    <material name="wood" texture="wood" texrepeat="1 1" />

    <!-- Define AprilTag textures -->
    <texture name="apriltag1" type="2d" file="assets/tag36_11_00000.png" />
    <texture name="apriltag2" type="2d" file="assets/tag36_11_00001.png" />

    <!-- Define block materials with AprilTags -->
    <material
      name="apriltag_material1"
      texture="apriltag1"
      texuniform="false"
    />
    <material
      name="apriltag_material2"
      texture="apriltag2"
      texuniform="false"
    />
  </asset>

  <statistic center="0.3 0 0.4" extent="0.8" />

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.1 0.1 0.1" specular="0 0 0" />
    <rgba haze="0.15 0.25 0.35 1" />
    <global azimuth="120" elevation="-20" />
  </visual>

  <asset>
    <texture
      type="skybox"
      builtin="gradient"
      rgb1="0.3 0.5 0.7"
      rgb2="0 0 0"
      width="512"
      height="3072"
    />
    <texture
      type="2d"
      name="groundplane"
      builtin="checker"
      mark="edge"
      rgb1="0.2 0.3 0.4"
      rgb2="0.1 0.2 0.3"
      markrgb="0.8 0.8 0.8"
      width="300"
      height="300"
    />
    <material
      name="groundplane"
      texture="groundplane"
      texuniform="true"
      texrepeat="5 5"
      reflectance="0.2"
    />
  </asset>
  <asset>
    <mesh name="cube" file="assets/Cube.stl" />
  </asset>

   <asset>    
    <texture type="2d" name="turntable_mid" file="assets/mid_texture.png" />
    <texture type="2d" name="turntable_base" file="assets/base_texture.png" />
    <material
      name="turntable_mid"
      texture="turntable_mid"
    />
    <material
      name="turntable_base"
      texture="turntable_base"
    />
    <mesh name="turntable_base" file="assets/base.obj" />
    <mesh name="turntable_top" file="assets/top.obj" />
  </asset>

  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true" />
    <geom
      name="floor"
      pos="0 0 0"
      size="0 0 0.05"
      type="plane"
      material="groundplane"
    />
    <!-- Define the table -->
    <body name="table" pos="0 1 0.45">
      <geom type="box" size="0.5 0.5 0.025" material="wood" />
    </body>

     <body name="turntable" pos="0 .9 0.475" euler="1.57 0 0">
      <geom class="visual" rgba="1 1 1 1" mesh="turntable_base" material="turntable_mid"/>
      <geom class="visual" rgba="1 1 1 1" mesh="turntable_top" material="turntable_base"/>
    </body>
  </worldbody>

  <keyframe>
    <!-- qpos order:
      1. Robot joints (7): linear_rail, shoulder_pan, shoulder_lift, elbow, wrist_1, wrist_2, wrist_3
      2. Gripper joints (8): right_knuckle, right_finger, right_inner_knuckle, right_finger_tip, left_knuckle, left_finger, left_inner_knuckle, left_finger_tip
    -->
    <key
      qpos="
      0 0 -1.5707 1.5707 -1.8 -1.5707 0
      0 0 0 0 0 0 0 0
    "
      ctrl="
      0 0 -1.0 1.0 -1.57 -1.57 0 0
    "
    />
  </keyframe>
</mujoco>
