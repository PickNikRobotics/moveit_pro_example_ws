<?xml version="1.0" encoding="utf-8" ?>
<root BTCPP_format="4" main_tree_to_execute="Push T">
  <!--//////////-->
  <BehaviorTree
    ID="Push T"
    _description="Push the T."
    _favorite="true"
    _subtreeOnly="false"
  >
    <Control ID="Sequence" name="TopLevelSequence">
      <SubTree
        ID="Move to Waypoint"
        _collapsed="true"
        acceleration_scale_factor="1.0"
        controller_action_server="/joint_trajectory_controller/follow_joint_trajectory"
        controller_names="/joint_trajectory_controller"
        joint_group_name="manipulator"
        keep_orientation="false"
        keep_orientation_tolerance="0.05"
        link_padding="0.01"
        velocity_scale_factor="1.0"
        waypoint_name="Look At T"
      />
      <Action
        ID="ActivateControllers"
        controller_names="velocity_force_controller"
      />
      <Action
        ID="T_pushing"
        twist_stamped="{desired_twist}"
        wrench_stamped="{desired_wrench}"
      />
      <Control ID="Parallel" success_count="1" failure_count="1">
        <Decorator ID="RetryUntilSuccessful" num_attempts="10000000">
          <Control ID="Sequence" name="TopLevelSequence">
            <Action
              ID="T_pushing"
              twist_stamped="{desired_twist}"
              wrench_stamped="{desired_wrench}"
            />
            <Action ID="AlwaysFailure" />
          </Control>
        </Decorator>
        <Action
          ID="PublishVelocityForceCommand"
          force_controlled_axes="0;0;0;0;0;0"
          publish_rate="10"
          twist_stamped="{desired_twist}"
          velocity_controlled_axes="1;1;1;1;1;1"
          velocity_force_controller_command_topic="/velocity_force_controller/command"
          wrench_gain="0.0"
          wrench_stamped="{desired_wrench}"
        />
      </Control>
    </Control>
  </BehaviorTree>
  <TreeNodesModel>
    <SubTree ID="Push T">
      <MetadataFields>
        <Metadata subcategory="Motion - Execute" />
        <Metadata runnable="true" />
      </MetadataFields>
      <MetadataFields>
        <Metadata subcategory="Motion - Execute" />
        <Metadata runnable="true" />
      </MetadataFields>
      <MetadataFields>
        <Metadata subcategory="Motion - Execute" />
        <Metadata runnable="true" />
      </MetadataFields>
    </SubTree>
  </TreeNodesModel>
</root>
