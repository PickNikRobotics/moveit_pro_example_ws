<!-- UR5e inspired from https://github.com/google-deepmind/mujoco_menagerie/tree/main/universal_robots_ur5e -->
<mujoco model="ur5e scene">
  <include file="ur5e/ur5e_linear_rail_globals.xml" />
  <include file="lab_desk/desk_globals.xml" />
  <include file="robotiq_2f85/robotiq2f85_globals.xml" />

  <compiler angle="radian" autolimits="true" />

  <option integrator="implicitfast" />

  <asset>
    <mesh name="cube" file="assets/Cube.stl" />
  </asset>

  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true" />

    <light
      name="spotlight"
      mode="targetbodycom"
      target="wrist_2_link"
      pos="0 -1 2"
    />
    <geom
      name="floor"
      pos="0 0 -0.512"
      size="0 0 0.05"
      type="plane"
      material="groundplane"
    />
    <!-- Scene Camera -->
    <site
      name="scene_camera_optical_frame"
      pos="-1.0 -2.0 2.966"
      euler="3.99 0.000 0"
    />
    <camera
      name="scene_camera"
      pos="-1.0 -2.0 2.966"
      fovy="58"
      mode="fixed"
      resolution="640 480"
      euler="0.849 0.000 0.0"
    />
    <!-- lab desk -->
    <include file="lab_desk/desk.xml" />
    <!-- Define the block with AprilTags on each face -->
    <body name="block1" pos="0.2 0.75 0.575">
      <freejoint name="block1" />
      <geom
        type="box"
        size="0.025 0.025 0.025"
        rgba="1 1 1 1"
        material="apriltag_material1"
      />
    </body>
    <body name="block2" pos="0.0 0.75 0.575">
      <freejoint name="block2" />
      <geom class="visual" mesh="cube" pos="0 0 -0.03" />
      <geom class="collision" type="box" size="0.025 0.025 0.025" pos="0 0 0" />
    </body>
    <body name="block3" pos="-0.2 0.75 0.575">
      <freejoint name="block3" />
      <geom
        type="box"
        size="0.025 0.025 0.025"
        rgba="1 1 1 1"
        material="apriltag_material2"
      />
    </body>
    <include file="ur5e/ur5e_linear_rail.xml" />
  </worldbody>

  <keyframe>
    <key
      qpos="-0.886765 0.727556 0.473715 -0.834548 -1.27631e-06 6.34107e-06 -0.550935 -0.499673 0.689936 0.473487 -0.749237 -5.9359e-06 5.32761e-06 -0.662302 -0.360924 0.609538 0.473486 -0.757223 -5.98828e-06 5.8078e-06 -0.653156 -0.303728 0.696243 0.47347 -0.778295 -2.6388e-05 1.69473e-05 -0.627898 -0.0432204 0.829485 0.474017 -0.731015 -5.17245e-05 -4.38322e-05 0.682361 -0.114775 0.795148 0.474016 0.677809 3.40301e-05 2.13056e-05 -0.735238 0.0290692 0.79249 0.474027 -0.758782 8.13214e-06 1.07737e-05 -0.651345 -0.427354 0.638736 0.499376 0.657945 0.259054 0.657945 -0.259054 -0.40071 0.715571 0.499377 0.706461 -0.0364056 0.705863 0.0366711 -0.465441 0.776122 0.499376 4.18835e-17 -0.933932 -0.357452 9.82522e-18 -4.74746e-21 2.26165e-19 -1.88491 1.10028 -1.25653 -1.57075 7.26448e-14 0.00263444 0.000148392 0.00288744 -0.00313006 0.00263444 0.000148393 0.00288357 -0.00312217"
      qvel="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"
      ctrl="0 -1.8849 1.0997 -1.2566 -1.57075 0 0 0"
    />
  </keyframe>
</mujoco>
