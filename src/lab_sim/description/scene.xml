<!-- UR5e inspired from https://github.com/google-deepmind/mujoco_menagerie/tree/main/universal_robots_ur5e -->
<mujoco model="ur5e scene">
  <include file="ur5e/ur5e_linear_rail_globals.xml" />
  <include file="lab_desk/desk_globals.xml" />
  <include file="robotiq_2f85/robotiq2f85_globals.xml" />

<visual>
    <global offwidth="1920" offheight="1080"/>
  </visual>

  <compiler angle="radian" autolimits="true" />

  <option integrator="implicitfast" />

  <asset>
    <mesh name="cube" file="assets/Cube.stl" />
  </asset>

  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true" />

    <light
      name="spotlight"
      mode="targetbodycom"
      target="wrist_2_link"
      pos="0 -1 2"
    />
    <geom
      name="floor"
      pos="0 0 -0.512"
      size="0 0 0.05"
      type="plane"
      material="groundplane"
    />
    <!-- Scene Camera -->
    <site
      name="scene_camera_optical_frame"
      pos="-1.0 -2.0 2.966"
      euler="3.99 0.000 0"
    />
    <camera
      name="scene_camera"
      pos="-1.0 -2.0 2.966"
      fovy="58"
      mode="fixed"
      resolution="1920 1080"
      euler="0.849 0.000 0.0"
    />
    <!-- lab desk -->
    <include file="lab_desk/desk.xml" />
    <!-- Define the block with AprilTags on each face -->
    <body name="block1" pos="0.2 0.75 0.575">
      <freejoint name="block1" />
      <geom
        type="box"
        size="0.025 0.025 0.025"
        rgba="1 1 1 1"
        material="apriltag_material1"
      />
    </body>
    <body name="block2" pos="0.0 0.75 0.575">
      <freejoint name="block2" />
      <geom class="visual" mesh="cube" pos="0 0 -0.03" />
      <geom class="collision" type="box" size="0.025 0.025 0.025" pos="0 0 0" />
    </body>
    <body name="block3" pos="-0.2 0.75 0.575">
      <freejoint name="block3" />
      <geom
        type="box"
        size="0.025 0.025 0.025"
        rgba="1 1 1 1"
        material="apriltag_material2"
      />
    </body>
    <include file="ur5e/ur5e_linear_rail.xml" />
  </worldbody>

  <keyframe>
      <key qpos='-0.871046 0.729603 0.473715 -0.839072 4.40365e-07 3.86376e-06 -0.544021 -0.5 0.69 0.473487 -0.759682 -7.75899e-06 3.45645e-08 -0.650295 -0.36 0.61 0.473486 -0.759683 -9.25864e-06 5.20597e-07 -0.650294 -0.3 0.699998 0.473469 -0.75968 -2.82938e-05 1.77045e-05 -0.650297 1.07516e-07 0.9 0.474026 -0.839071 -1.39392e-05 -3.69846e-07 0.544021 -0.1 0.849998 0.474023 0.283661 1.33761e-06 1.40874e-05 -0.958925 0.10855 0.55 0.486243 -0.759692 -4.223e-06 1.66946e-05 -0.650283 0.2 0.75 0.499376 1 3.26949e-17 -1.9984e-19 3.18509e-31 1.70843e-05 0.749992 0.499377 1 0.00016562 0.000360588 7.99021e-12 -0.2 0.75 0.499376 1 3.26949e-17 -1.9984e-19 3.18509e-31 1.74013e-21 1.86939e-20 0.00262408 0.000725414 -2.32869e-07 2.82812e-08 -1.55995e-13 0.00260382 0.000146481 0.00285352 -0.00309142 0.00260383 0.000146481 0.00284971 -0.00308363'/>
    <key
      qpos="-0.886764 0.727551 0.472375 -0.834559 -6.95805e-05 -6.1375e-05 -0.550919 -0.499647 0.689928 0.470942 -0.749838 3.91843e-05 -5.08119e-05 -0.661622 -0.3609 0.609537 0.470941 -0.757741 2.96011e-05 4.00136e-05 -0.652556 -0.303591 0.696467 0.470989 -0.7788 -5.32927e-05 2.99347e-06 -0.627272 -0.000373058 0.88828 0.473534 -0.838137 -1.0566e-05 -3.07868e-06 0.54546 -0.0963647 0.840186 0.473528 0.281469 -1.36042e-05 6.60035e-06 -0.95957 0.0484372 0.842182 0.473688 -0.758342 6.07647e-06 2.73022e-05 -0.651856 0.2 0.75 0.499376 1 0 0 0 1.70629e-05 0.749992 0.499377 1 0.00016562 0.000360588 1.95345e-10 -0.2 0.75 0.499376 1 0 0 0 0 0 -1.88491 1.10028 -1.25653 -1.57075 -1.08677e-12 0.0208231 0.000536851 0.0221006 -0.022866 0.020837 0.000547055 0.0221413 -0.0229382"
      qvel="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0"
      ctrl="0 -1.8849 1.0997 -1.2566 -1.57075 0 0 0"
      />
  </keyframe>
</mujoco>
